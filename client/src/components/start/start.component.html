<div class="app">
	<div class="app-navbar">
		<a class="menu-icon-button" (click)="sideNavToggle()">
			<i class="mdi mdi-menu"></i>
		</a>

		<div class="search">
			<input type="text" placeholder="{{'start.navbar.search'|translate}}" [(ngModel)]="searchTerm" (keyup)="onSearchKeyUp()" (keyup.enter)="onSearchEnter()"
				(blur)="hideSearchResults()">
			<div class="searchResults" *ngIf="searchResults && searchResults.length > 0">
				<ul>
					<li *ngFor="let result of searchResults" (click)="searchNavigateTo(result.route)">
						<div class="result-title ellipsis">
							{{result.name}}
						</div>
						<div class="result-description ellipsis">
							{{result.description}}
						</div>
					</li>
					<li (click)="onSearchEnter()" class="advanced-search-link">
						<div class="result-title ellipsis">
							{{'start.navbar.advancedSearch'|translate}}
						</div>						
					</li>
				</ul>			
			</div>
		</div>
		<div class="right-part">
			<a class='dropdown-button button' data-activates='settings-dropdown'><i class="mdi mdi-settings"></i></a>
			<a class='dropdown-button button ellipsis' data-activates='user-dropdown'>{{'start.navbar.username'|translate:['Robert']}}</a>
		</div>

		<ul id='user-dropdown' class='dropdown-content'>
			<li><a (click)="logout()" title="Logout">Logout</a></li>
		</ul>

		<ul id='settings-dropdown' class='dropdown-content'>
			<li><a routerLink="/app/settings">{{'start.navbar.settings'|translate}}</a></li>
		</ul>
	</div>

	<div class="app-sidenav">
		<div class="sidenav-title" routerLink="/app/start">
			<div class="logo">
				<i class="mdi mdi-bike"></i>
			</div>
			<div class="title">
				IBSYS II
			</div>
		</div>
		<div class="sidenav-links">
			<perfect-scrollbar class="scrollbar-element">
				<div class="sidenav-category">
					<span class="category-name">Navigation</span>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/dashboard" routerLinkActive="active">
						<i class="mdi mdi-speedometer"></i>
						<div class="link-text">Dashboard</div>
					</a>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/profile" routerLinkActive="active">
						<i class="mdi mdi-account-circle"></i>
						<div class="link-text">Profile</div>
					</a>
				</div>
				<div class="sidenav-category">
					<span class="category-name">Planning</span>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/planning" routerLinkActive="active">
						<i class="mdi mdi-clipboard-outline"></i>
						<div class="link-text">Production Planning</div>
					</a>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/purchasing" routerLinkActive="active">
						<i class="mdi mdi-cart"></i>
						<div class="link-text">Purchasing</div>
					</a>
				</div>
				<div class="sidenav-category">
					<span class="category-name">Warehouse</span>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/warehouse" routerLinkActive="active">
						<i class="mdi mdi-chart-histogram"></i>
						<div class="link-text">Warehouse</div>
					</a>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/warehouse-statistics" routerLinkActive="active">
						<i class="mdi mdi-chart-line"></i>
						<div class="link-text">Warehouse statistcs</div>
					</a>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/warehouse-settings" routerLinkActive="active">
						<i class="mdi mdi-settings"></i>
						<div class="link-text">Warehouse settings</div>
					</a>
				</div>
				<div class="sidenav-category">
					<span class="category-name">Files</span>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/uploads" routerLinkActive="active">
						<i class="mdi mdi-upload"></i>
						<div class="link-text">Fileupload</div>
					</a>
					<a class="sidenav-link waves-effect waves-dark" routerLink="/app/downloads" routerLinkActive="active">
						<i class="mdi mdi-download"></i>
						<div class="link-text">Downloads</div>
					</a>
				</div>
			</perfect-scrollbar>
		</div>
	</div>

	<!--if sidenav is opened in mobile view-->
	<div class="dimmer"></div>

	<div class="app-content" (window:resize)="onResize($event)">
		<router-outlet></router-outlet>
	</div>
</div>